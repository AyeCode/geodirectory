{"version":3,"file":"leaflet-geocode.js","sources":["../../resources/vendor/maps/leaflet/osm.geocode.js"],"sourcesContent":["L.gdGeoCode = {};\nL.gdGeoCode.Provider = {};\n\nL.gdGeoCode.Result = function (x, y, label, bounds, details) {\n    this.X = x;\n    this.Y = y;\n    this.Label = label;\n    this.bounds = bounds;\n\n    if (details)\n        this.details = details;\n};\n\nL.Control.gdGeoCode = L.Control.extend({\n    options: {\n        position: 'topleft',\n        showMarker: true,\n        showPopup: false,\n        customIcon: false,\n        retainZoomLevel: false,\n        draggable: false\n    },\n\n    _config: {\n        country: '',\n        searchLabel: 'Enter address',\n        notFoundMessage: 'Sorry, that address could not be found.',\n        messageHideDelay: 3000,\n        zoomLevel: 18\n    },\n\n    initialize: function (options) {\n        L.Util.extend(this.options, options);\n        L.Util.extend(this._config, options);\n    },\n\n    resetLink: function(extraClass) {\n        var link = this._container.querySelector('a');\n        link.className = 'leaflet-bar-part leaflet-bar-part-single' + ' ' + extraClass;\n    },\n\n    onAdd: function (map) {\n        this._container = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-geosearch');\n\n        // create the link - this will contain one of the icons\n        var link = L.DomUtil.create('a', '', this._container);\n        link.href = '#';\n        link.title = this._config.searchLabel;\n\n        // set the link's icon to magnifying glass\n        this.resetLink('glass');\n\n        // create the form that will contain the input\n        var form = L.DomUtil.create('form', 'displayNone', this._container);\n\n        // create the input, and set its placeholder text\n        var searchbox = L.DomUtil.create('input', null, form);\n        searchbox.type = 'text';\n        searchbox.placeholder = this._config.searchLabel;\n        this._searchbox = searchbox;\n\n        var msgbox = L.DomUtil.create('div', 'leaflet-bar message displayNone', this._container);\n        this._msgbox = msgbox;\n\n        L.DomEvent\n            .on(link, 'click', L.DomEvent.stopPropagation)\n            .on(link, 'click', L.DomEvent.preventDefault)\n            .on(link, 'click', function() {\n\n                if (L.DomUtil.hasClass(form, 'displayNone')) {\n                    L.DomUtil.removeClass(form, 'displayNone'); // unhide form\n                    searchbox.focus();\n                } else {\n                    L.DomUtil.addClass(form, 'displayNone'); // hide form\n                }\n\n            })\n            .on(link, 'dblclick', L.DomEvent.stopPropagation);\n\n        L.DomEvent\n            .addListener(this._searchbox, 'keypress', this._onKeyPress, this)\n            .addListener(this._searchbox, 'keyup', this._onKeyUp, this)\n            .addListener(this._searchbox, 'input', this._onInput, this);\n\n        L.DomEvent.disableClickPropagation(this._container);\n\n        return this._container;\n    },\n\n    geosearch: function (qry) {\n        var that = this;\n        try {\n            var provider = this._config.provider;\n\n            if(typeof provider.GetLocations == 'function') {\n                provider.GetLocations(qry, function(results) {\n                    return that._processResults(results, qry);\n                });\n            }\n            else {\n                var url = provider.GetServiceUrl(qry);\n                return this.sendRequest(provider, url, qry);\n            }\n        }\n        catch (error) {\n            this._printError(error);\n        }\n    },\n\n    cancelSearch: function() {\n        var form = this._container.querySelector('form');\n        L.DomUtil.addClass(form, 'displayNone');\n\n        this._searchbox.value = '';\n        this.resetLink('glass');\n\n        L.DomUtil.addClass(this._msgbox, 'displayNone');\n\n        this._map._container.focus();\n    },\n\n    startSearch: function() {\n        // show spinner icon\n        this.resetLink('spinner');\n        this.geosearch(this._searchbox.value);\n    },\n\n    sendRequest: function (provider, url, qry) {\n        var that = this;\n\n        window.parseLocation = function (response) {\n            var results = provider.ParseJSON(response);\n            results = that._processResults(results, qry);\n\n            document.body.removeChild(document.getElementById('getJsonP'));\n            delete window.parseLocation;\n            \n            return results;\n        };\n\n        function getJsonP (url) {\n            url = url + '&callback=parseLocation';\n            var script = document.createElement('script');\n            script.id = 'getJsonP';\n            script.src = url;\n            script.async = true;\n            document.body.appendChild(script);\n        }\n\n        if (XMLHttpRequest) {\n            var xhr = new XMLHttpRequest();\n\n            if ('withCredentials' in xhr) {\n                var xhr = new XMLHttpRequest();\n\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState == 4) {\n                        if (xhr.status == 200) {\n                            var response = JSON.parse(xhr.responseText),\n                                results = provider.ParseJSON(response);\n\n                            that._processResults(results, qry);\n                        } else if (xhr.status == 0 || xhr.status == 400) {\n                            getJsonP(url);\n                        } else {\n                            that._printError(xhr.responseText);\n                        }\n                    }\n                };\n\n                xhr.open('GET', url, true);\n                xhr.send();\n            } else if (XDomainRequest) {\n                var xdr = new XDomainRequest();\n\n                xdr.onerror = function (err) {\n                    that._printError(err);\n                };\n\n                xdr.onload = function () {\n                    var response = JSON.parse(xdr.responseText),\n                        results = provider.ParseJSON(response);\n\n                    that._processResults(results, qry);\n                };\n\n                xdr.open('GET', url);\n                xdr.send();\n            } else {\n                getJsonP(url);\n            }\n        }\n    },\n\n    _processResults: function(results, qry) {\n        if (results.length > 0) {\n            return results[0];\n            this.cancelSearch();\n        } else {\n            this._printError(this._config.notFoundMessage);\n        }\n        return null;\n    },\n\n    _showLocation: function (location, qry) {\n        if (this.options.showMarker == true) {\n            if (typeof this._positionMarker === 'undefined') {\n                this._positionMarker = L.marker(\n                    [location.Y, location.X],\n                    {draggable: this.options.draggable}\n                ).addTo(this._map);\n                if( this.options.customIcon ) {\n                    this._positionMarker.setIcon(this.options.customIcon);\n                }\n                if( this.options.showPopup ) {\n                   this._positionMarker.bindPopup(qry).openPopup();\n                }\n            }\n            else {\n                this._positionMarker.setLatLng([location.Y, location.X]);\n                if( this.options.showPopup ) {\n                   this._positionMarker.bindPopup(qry).openPopup();\n                }\n            }\n        }\n        if (!this.options.retainZoomLevel && location.bounds && location.bounds.isValid()) {\n            this._map.fitBounds(location.bounds);\n        }\n        else {\n            this._map.setView([location.Y, location.X], this._getZoomLevel(), false);\n        }\n\n        this._map.fireEvent('geosearch_showlocation', {\n          Location: location,\n          Marker : this._positionMarker\n        });\n    },\n\n    _isShowingError: false,\n\n    _printError: function(message) {\n        alert(message);\n    },\n\n    _onKeyUp: function (e) {\n        var esc = 27;\n\n        if (e.keyCode === esc) { // escape key detection is unreliable\n            this.cancelSearch();\n        }\n    },\n\n    _getZoomLevel: function() {\n        if (! this.options.retainZoomLevel) {\n            return this._config.zoomLevel;\n        }\n        return this._map._zoom;\n    },\n\n    _onInput: function() {\n        if (this._isShowingError) {\n            this.resetLink('glass');\n            L.DomUtil.addClass(this._msgbox, 'displayNone');\n\n            this._isShowingError = false;\n        }\n    },\n\n    _onKeyPress: function (e) {\n        var enterKey = 13;\n\n        if (e.keyCode === enterKey) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            this.startSearch();\n        }\n    }\n});\n\nL.gdGeoCode.Provider.OpenStreetMap = L.Class.extend({\n    options: {},\n\n    initialize: function(options) {\n        options = L.Util.setOptions(this, options);\n    },\n\n    GetServiceUrl: function (qry) {\n        var parameters = L.Util.extend({\n            q: qry,\n            format: 'json'\n        }, this.options);\n\n        return (location.protocol === 'https:' ? 'https:' : 'https:') + '//nominatim.openstreetmap.org/search' + L.Util.getParamString(parameters);\n    },\n\n    ParseJSON: function (data) {\n        var results = [];\n\n        for (var i = 0; i < data.length; i++) {\n            var boundingBox = data[i].boundingbox,\n                northEastLatLng = new L.LatLng( boundingBox[1], boundingBox[3] ),\n                southWestLatLng = new L.LatLng( boundingBox[0], boundingBox[2] );\n\n            if (data[i].address)\n                data[i].address.type = data[i].type;\n\n            results.push(new L.gdGeoCode.Result(\n                data[i].lon,\n                data[i].lat,\n                data[i].display_name,\n                new L.LatLngBounds([\n                    northEastLatLng,\n                    southWestLatLng\n                ]),\n                data[i].address\n            ));\n        }\n\n        return results;\n    }\n});\n\nfunction gd_highlight(data, search, start, end) {\n    if (typeof start === 'undefined') {\n        start = '<span class=\"gdOH\">';\n        end = '</span>';\n    }\n    if (typeof end === 'undefined') {\n        end = '</span>';\n    }\n    \n    search = (search+'').replace(/([\\\\\\.\\+\\*\\?\\[\\^\\]\\$\\(\\)\\{\\}\\=\\!\\<\\>\\|\\:])/g, \"\\\\$1\");\n    return data.replace( new RegExp( \"(\" + search + \")\" , 'gi' ), start + \"$1\" + end );\n}\n\nfunction gd_osm_parse_item(item) {\n    var formated = item.display_name;\n\n    item.country = '';\n    item.state = '';\n    item.city = '';\n    item.postcode = '';\n    item.country_code = '';\n    \n    if (item.address) {\n        var address = item.address;\n        \n        if (address.country) {\n            item.country = address.country;\n            formated = gd_osm_parse_name(formated, address.country);\n        }\n        \n        if (address.postcode) {\n            item.postcode = address.postcode;\n            formated = gd_osm_parse_name(formated, address.postcode);\n        }\n\n        if (address.country_code == 'gb') {\n            if (address.state) {\n                item.gb_country = address.state;\n                if (geodir_params.splitUK) {\n                    formated = gd_osm_parse_name(formated, item.gb_country);\n                }\n            }\n            if (address.county) {\n                address.state = address.county;\n            } else if (address.state_district) {\n                address.state = address.state_district;\n            }\n        }\n\n        // Bermuda, Norway, Sweden, Romania\n        if ((address.country_code == 'bm' || address.country_code == 'no' || address.country_code == 'se' || address.country_code == 'ro') && ! address.state) {\n            if (address.county) {\n                address.state = address.county;\n            } else if (address.state_district) {\n                address.state = address.state_district;\n            }\n        }\n        \n        if (address.state) {\n            item.state = address.state;\n            item.state = item.state.replace(\" (state)\", \"\"); \n            formated = gd_osm_parse_name(formated, address.state);\n        }\n        \n        if (address.county) {\n            item.city = address.county;\n            formated = gd_osm_parse_name(formated, address.county);\n        }\n        \n        if (address.state_district) {\n            item.city = address.state_district;\n            formated = gd_osm_parse_name(formated, address.state_district);\n        }\n        \n        if (address.city) {\n            item.city = address.city;\n            formated = gd_osm_parse_name(formated, address.city);\n        } else if (address.city_district) {\n            item.city = address.city_district;\n            formated = gd_osm_parse_name(formated, address.city_district);\n        } else if (address.town) {\n            item.city = address.town;\n            formated = gd_osm_parse_name(formated, address.town);\n        } else if (address.municipality && address.country_code == 'ro') {\n            /* Romania */\n            item.city = address.municipality;\n            formated = gd_osm_parse_name(formated, address.municipality);\n        }\n        if (address.country_code == 'gb' && item.city) {\n            item.city = item.city.replace(\"City of \", \"\"); \n        }\n        if (address.country_code) {\n            item.country_code = address.country_code.toUpperCase();\n        }\n        if (!item.state) {\n            if (item.country_code == 'JP' && item.city && item.city.toLowerCase()=='minato') {\n                item.state = 'Tokyo';\n                formated = gd_osm_parse_name(formated, item.state);\n            }\n        }\n        if (address.state_district) {\n            formated = gd_osm_parse_name(formated, address.state_district);\n        }\n    }\n    if (formated == '') {\n        if (item.city) {\n            formated = item.city\n        } else {\n            formated = item.display_name\n        }\n    }\n\n    if(address && address.house_number && address.road){\n        item.display_address = address.house_number +' '+address.road;\n    }else{\n        item.display_address = formated;\n    }\n\n\n    return item;\n}\n\nfunction gd_osm_parse_name(name, search) {\n    if (name == \"\" || search == \"\") {\n        return name;\n    }\n    search = \", \" + search;\n    \n    // find the index of last time word was used\n    var n = name.toLowerCase().lastIndexOf(search.toLowerCase());\n\n    // slice the string in 2, one from the start to the lastIndexOf\n    // and then replace the word in the rest\n    var pat = new RegExp(search, 'i');\n    \n    return name.slice(0, n) + name.slice(n).replace(pat, \"\");\n}\n\nfunction geocodePositionOSM(latLon, address, countrycodes, updateMap, callback) {\n    data = {format: 'json', addressdetails: 1, limit: 1, 'accept-language': geodir_params.mapLanguage};\n    \n    if (address) {\n        type = 'search';\n        data.q = address;\n        \n        if (countrycodes) {\n            data.countrycodes = countrycodes.toLowerCase();\n        }\n    } else if(latLon && typeof latLon === 'object') {\n       type = 'reverse';\n       data.lat = latLon.lat;\n       data.lon = latLon.lng;\n    } else {\n        return;\n    }\n    \n    jQuery.ajax({\n        url: (location.protocol === 'https:' ? 'https:' : 'https:') + '//nominatim.openstreetmap.org/' + type,\n        dataType: \"json\",\n        data: data,\n        success: function(data, textStatus, jqXHR) {\n            if (type == 'search' && data.length) {\n                data = data[0];\n            }\n            console.log(data );\n            data = gd_osm_parse_item(data);\n            console.log(data );\n\n\n            if (typeof callback === 'function') {\n                callback(data);\n            } else {\n                geocodeResponseOSM(data, updateMap);\n            }\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            console.log(errorThrown);\n        },\n        complete: function(jqXHR, textStatus) {\n        }\n    });\n}"],"names":["x","y","label","bounds","details","options","extraClass","link","map","form","searchbox","msgbox","qry","that","provider","results","url","error","response","getJsonP","script","xhr","xdr","err","location","message","esc","enterKey","parameters","data","i","boundingBox","northEastLatLng","southWestLatLng"],"mappings":"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"}