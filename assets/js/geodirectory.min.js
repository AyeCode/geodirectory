var gdUrlParam=function(e){var t,r,i=decodeURIComponent(window.location.search.substring(1)).split("&");for(r=0;r<i.length;r++)if((t=i[r].split("="))[0]===e)return void 0===t[1]||t[1]};function geodir_init_lazy_load(){var e=1;"objectFit"in document.documentElement.style==!1&&(e=0),jQuery(".geodir-lazy-load").gdunveil(100,function(){this.style.opacity=e},"#geodir_content"),jQuery("#gd-tabs").click(function(){setTimeout(function(){jQuery(window).trigger("lookup")},100)}),jQuery(document).ready(function(){setTimeout(function(){jQuery(window).trigger("lookup")},100)})}function geodir_object_fit_fix(e){var t=jQuery(e).parents("li"),r=jQuery(e).data("src");r&&(jQuery(e).css({opacity:0}),t.css({backgroundImage:"url("+r+")",backgroundSize:"cover",borderRadius:"4px",backgroundPosition:"center center"}))}function geodir_init_flexslider(){jQuery(".geodir-slider.geodir-slider-loading").each(function(e,t){geodir_init_slider(t.id)})}function autofill_click(e){var t=jQuery(e).html();jQuery(e).closest("div.gd-autofill-dl").closest("div.gd-autofill").find("input[type=text]").val(t),jQuery(e).closest(".gd-autofill-dl").remove()}function geodir_get_post_term(e){limit=jQuery(e).data("limit"),term=jQuery(e).val();var t=parseInt(jQuery(e).data("parent"))>0?1:0;jQuery(e).parent().parent().find(".geodir-popular-cat-list").html('<i class="fas fa-cog fa-spin" aria-hidden="true"></i>'),jQuery(e).parent().parent().parent().find(".geodir-cat-list-more").hide(),jQuery.post(geodir_params.ajax_url+"?action=geodir_ajax_action",{ajax_action:"geodir_get_term_list",term:term,limit:limit,parent_only:t}).done(function(t){""!=jQuery.trim(t)&&(jQuery(e).parent().parent().find(".geodir-popular-cat-list").hide().html(t).fadeIn("slow"),jQuery(e).parent().parent().find(".geodir-popular-cat-list li").length>limit&&jQuery(e).parent().parent().parent().find(".geodir-cat-list-more").fadeIn("slow"))})}function geodir_resize_rating_stars(e){jQuery(".geodir-rating").each(function(){var t=jQuery(this);if(!t.width())return!0;var r=t.find(".geodir_Star img").width()*t.find(".geodir_Star img").length;r=void 0!==e&&e?"auto":r,t.width(r)})}function geodir_load_search_form(e,t){var r=jQuery(t).closest(".geodir-search-container").attr("data-show-adv");jQuery.ajax({url:geodir_params.ajax_url,type:"POST",dataType:"html",data:{action:"geodir_search_form",stype:e,adv:r},beforeSend:function(){geodir_search_wait(1)},success:function(e,r,i){var a=jQuery(t).closest(".geodir-search-container");if(jQuery("select.search_by_post",a).length&&jQuery(".gd-search-input-wrapper.gd-search-field-near",a).length){var n=jQuery(".gd-search-input-wrapper.gd-search-field-near",a).is(":visible"),o=jQuery(".gd-search-input-wrapper.gd-search-field-near").prop("outerHTML");if(jQuery('input[name="sgeo_lat"]',a).length&&jQuery('input[name="sgeo_lon"]',a).length)var s=jQuery('input[name="sgeo_lat"]',a).prop("outerHTML"),d=jQuery('input[name="sgeo_lon"]',a).prop("outerHTML");if(jQuery("input.geodir-location-search-type",a).length)var u=jQuery("input.geodir-location-search-type",a).prop("outerHTML")}if(a.html(e),void 0!==o){var g=jQuery(".gd-search-input-wrapper.gd-search-field-near",a).is(":visible");jQuery(".gd-search-input-wrapper.gd-search-field-near",a).replaceWith(o);var l=jQuery(".gd-search-input-wrapper.gd-search-field-near",a);n&&!g?(l.hide(),jQuery('input[name="snear"]',l).hide()):!n&&g&&(l.show(),jQuery('input[name="snear"]',l).show()),void 0!==s&&void 0!==d&&(jQuery('input[name="sgeo_lat"]',a).replaceWith(s),jQuery('input[name="sgeo_lon"]',a).replaceWith(d)),void 0!==u&&jQuery("input.geodir-location-search-type",a).replaceWith(u)}geodir_setup_search_form(),jQuery("body").trigger("geodir_setup_search_form",a.find('fome[name="geodir-listing-search"]')),geodir_search_wait(0)},error:function(e,t,r){console.log(t),geodir_search_wait(0)}})}function geodir_setup_search_form(){jQuery(".search_by_post").val()?gd_s_post_type=jQuery(".search_by_post").val():gd_s_post_type="gd_place",setTimeout(function(){jQuery(".search_by_post").change(function(){gd_s_post_type=jQuery(this).val(),geodir_load_search_form(gd_s_post_type,this)})},100)}jQuery.fn.gdunveil=function(e,t,r){var i=jQuery(window),a=e||0,n=window.devicePixelRatio>1?"data-src-retina":"data-src",o=this;if(r){var s,d=jQuery(r);a=e||0,n=window.devicePixelRatio>1?"data-src-retina":"data-src",o=this}function u(){var e=o.filter(function(){var e=jQuery(this);if(!e.is(":hidden")){var t=i.scrollTop(),r=t+i.height(),n=e.offset().top;return n+e.height()>=t-a&&n<=r+a}});s=e.trigger("gdunveil"),o=o.not(s)}return this.one("gdunveil",function(){var e=this.getAttribute(n),r=this.getAttribute("data-srcset");(e=e||this.getAttribute("data-src"))&&(r&&this.setAttribute("srcset",r),this.setAttribute("src",e),jQuery(this).removeClass("geodir-lazy-load"),"function"==typeof t&&t.call(this),jQuery(this).trigger("gdlazyLoaded"))}),i.on("scroll.gdunveil resize.gdunveil lookup.gdunveil",u),r&&d.on("scroll.gdunveil resize.gdunveil lookup.gdunveil",u),u(),this},jQuery(function(e){geodir_init_lazy_load(),"objectFit"in document.documentElement.style==!1&&e(document).ready(function(){e(".geodir-image-container ul.geodir-images li img").each(function(){geodir_object_fit_fix(this),e(this).on("gdlazyLoaded",geodir_object_fit_fix)})}),e(document).on("click",".gd-bh-show-field .gd-bh-expand-range",function(t){var r=e(this).closest(".geodir_post_meta"),i=r.find(".gd-bh-open-hours");i.is(":visible")?(i.slideUp(100),r.removeClass("gd-bh-expanded").addClass("gd-bh-toggled")):(i.slideDown(100),r.removeClass("gd-bh-toggled").addClass("gd-bh-expanded"))}),e(".gd-bh-show-field").length&&(setInterval(function(e){geodir_refresh_business_hours()},6e4),geodir_refresh_business_hours()),e("body").bind("geodir_map_infowindow_open",function(t,r){r.content&&e(r.content).find(".gd-bh-show-field").length&&geodir_refresh_business_hours(),geodir_fix_marker_pos(r.canvas)}),e(".gd-badge-meta .gd-badge").each(function(){var t=e(this).data("badge"),r=e(this).data("badge-condition");t&&e(this).closest(".post-"+e(this).data("id")).length&&(badge_class="geodir-badge-"+t,badge_class+=" geodir-badge-"+t+"-"+r,e(this).closest(".post-"+e(this).data("id")).removeClass(badge_class).addClass(badge_class))}),gd_init_comment_reply_link(),geodir_animate_markers(),e('.geodir-sort-by[name="sort_by"], #geodir_my_favourites[name="geodir_my_favourites"], #geodir_my_listings[name="geodir_my_listings"], #geodir_add_listing[name="geodir_add_listing"]').on("change",function(t){e(this).val()&&(window.location=e(this).val())}),jQuery(".geodir-comments-area").length&&!jQuery("#reviews").length&&jQuery(".geodir-comments-area").prepend('<span id="reviews"></span>')}),function(e){"use strict";e.Placeholders={Utils:{addEventListener:function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):void 0},inArray:function(e,t){var r,i;for(r=0,i=e.length;i>r;r++)if(e[r]===t)return!0;return!1},moveCaret:function(e,t){var r;e.createTextRange?((r=e.createTextRange()).move("character",t),r.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))},changeType:function(e,t){try{return e.type=t,!0}catch(e){return!1}}}}}(this),function(e){"use strict";function t(){}function r(){try{return document.activeElement}catch(e){}}function i(e,t){var r,i,a=!!t&&e.value!==t,n=e.value===e.getAttribute(k);return!(!a&&!n||"true"!==e.getAttribute(C))&&(e.removeAttribute(C),e.value=e.value.replace(e.getAttribute(k),""),e.className=e.className.replace(x,""),i=e.getAttribute(I),parseInt(i,10)>=0&&(e.setAttribute("maxLength",i),e.removeAttribute(I)),(r=e.getAttribute($))&&(e.type=r),!0)}function a(e){var t=e.getAttribute(k);return!(""!==e.value||!t)&&(e.setAttribute(C,"true"),e.value=t,e.className+=" "+w,e.getAttribute(I)||(e.setAttribute(I,e.maxLength),e.removeAttribute("maxLength")),e.getAttribute($)?e.type="text":"password"===e.type&&P.changeType(e,"text")&&e.setAttribute($,"password"),!0)}function n(e,t){var r,i,a,n,o;if(e&&e.getAttribute(k))t(e);else for(i=e?e.getElementsByTagName("input"):d,a=e?e.getElementsByTagName("textarea"):u,o=0,n=(r=i?i.length:0)+(a?a.length:0);n>o;o++)t(r>o?i[o]:a[o-r])}function o(e){n(e,i)}function s(e){e.form&&("string"==typeof(f=e.form)&&(f=document.getElementById(f)),f.getAttribute(T)||(P.addEventListener(f,"submit",function(e){return function(){o(e)}}(f)),f.setAttribute(T,"true"))),P.addEventListener(e,"focus",function(e){return function(){g&&e.value===e.getAttribute(k)&&"true"===e.getAttribute(C)?P.moveCaret(e,0):i(e)}}(e)),P.addEventListener(e,"blur",function(e){return function(){a(e)}}(e)),g&&(P.addEventListener(e,"keydown",function(e){return function(t){return c=e.value,"true"===e.getAttribute(C)&&c===e.getAttribute(k)&&P.inArray(b,t.keyCode)?(t.preventDefault&&t.preventDefault(),!1):void 0}}(e)),P.addEventListener(e,"keyup",function(e){return function(){i(e,c),""===e.value&&(e.blur(),P.moveCaret(e,0))}}(e)),P.addEventListener(e,"click",function(e){return function(){e===r()&&e.value===e.getAttribute(k)&&"true"===e.getAttribute(C)&&P.moveCaret(e,0)}}(e))),e.setAttribute(A,"true"),e.setAttribute(k,m),(g||e!==r())&&a(e)}var d,u,g,l,c,_,p,m,h,f,y,v,j,Q=["text","search","url","tel","email","password","number","textarea"],b=[27,33,34,35,36,37,38,39,40,8,46],w="placeholdersjs",x=RegExp("(?:^|\\s)"+w+"(?!\\S)"),k="data-placeholder-value",C="data-placeholder-active",$="data-placeholder-type",T="data-placeholder-submit",A="data-placeholder-bound",I="data-placeholder-maxlength",E=document.createElement("input"),N=document.getElementsByTagName("head")[0],S=document.documentElement,L=e.Placeholders,P=L.Utils;if(L.nativeSupport=void 0!==E.placeholder,!L.nativeSupport){for(d=document.getElementsByTagName("input"),u=document.getElementsByTagName("textarea"),g="false"===S.getAttribute("data-placeholder-focus"),l="false"!==S.getAttribute("data-placeholder-live"),(_=document.createElement("style")).type="text/css",p=document.createTextNode("."+w+" { color:#ccc; }"),_.styleSheet?_.styleSheet.cssText=p.nodeValue:_.appendChild(p),N.insertBefore(_,N.firstChild),j=0,v=d.length+u.length;v>j;j++)y=d.length>j?d[j]:u[j-d.length],(m=y.attributes.placeholder)&&((m=m.nodeValue)&&P.inArray(Q,y.type)&&s(y));h=setInterval(function(){for(j=0,v=d.length+u.length;v>j;j++)y=d.length>j?d[j]:u[j-d.length],(m=y.attributes.placeholder)?(m=m.nodeValue)&&P.inArray(Q,y.type)&&(y.getAttribute(A)||s(y),(m!==y.getAttribute(k)||"password"===y.type&&!y.getAttribute($))&&("password"===y.type&&!y.getAttribute($)&&P.changeType(y,"text")&&y.setAttribute($,"password"),y.value===y.getAttribute(k)&&(y.value=m),y.setAttribute(k,m))):y.getAttribute(C)&&(i(y),y.removeAttribute(k));l||clearInterval(h)},100)}P.addEventListener(e,"beforeunload",function(){L.disable()}),L.disable=L.nativeSupport?t:o,L.enable=L.nativeSupport?t:function(e){n(e,a)}}(this),jQuery(document).ready(function(e){init_read_more(),geodir_init_flexslider(),jQuery("#geodir-tab-mobile-menu").click(function(){jQuery("#gd-tabs .geodir-tab-head").toggle()}),gd_infowindow="undefined"!=typeof google&&void 0!==google.maps?new google.maps.InfoWindow({maxWidth:200}):null,jQuery('.gd-cats-display-checkbox input[type="checkbox"]').click(function(){var e=jQuery(this).is(":checked");if(!e){var t=jQuery(this).val();jQuery(this).closest(".gd-parent-cats-list").find(".gd-cat-row-"+t+' input[type="checkbox"]').prop("checked",e)}}),jQuery(".geodir-delete").click(function(){var e=geodir_params.my_place_listing_del;return(jQuery(this).closest(".geodir-gridview").hasClass("gdp-franchise-m")||jQuery(this).closest(".geodir-listview").hasClass("gdp-franchise-m"))&&(e=geodir_params.my_main_listing_del),!!confirm(e)}),jQuery(".gd-category-dd").hover(function(){jQuery(".gd-category-dd ul").show()}),jQuery(".gd-category-dd ul li a").click(function(e){jQuery(".gd-category-dd").find("input").val(jQuery(this).attr("data-slug")),jQuery(".gd-category-dd > a").html(jQuery(this).attr("data-name")),jQuery(".gd-category-dd ul").hide()}),geodir_setup_search_form(),setTimeout(function(){gd_init_rating_input()},250)}),jQuery(window).load(function(){function activateTab(tab){if(jQuery(".geodir-tab-head").length)if(tabName=urlHash=tab.find("a").html(),tabName&&jQuery(".geodir-mobile-active-tab").length&&jQuery(".geodir-mobile-active-tab").html(tabName),tabNoRun)tabNoRun=!1;else{var activeTab=tab.closest("dl").find("dd.geodir-tab-active"),contentLocation=tab.find("a").attr("data-tab")+"Tab";urlHash=tab.find("a").attr("data-tab"),jQuery(tab).hasClass("geodir-tab-active")||("undefined"==typeof urlHash?"#comment"==window.location.hash.substring(0,8)&&(tab=jQuery('*[data-tab="#reviews"]').parent(),tabNoRun=!0):history.pushState?history.replaceState(null,null,urlHash):window.location.hash=urlHash),activeTab.removeClass("geodir-tab-active"),tab.addClass("geodir-tab-active"),jQuery(contentLocation).closest(".geodir-tabs-content").children("li").hide(),jQuery(contentLocation).fadeIn(),jQuery(contentLocation).css({display:"block"}),"#post_map"==urlHash&&window.gdMaps&&window.setTimeout(function(){var map_canvas=jQuery(".geodir-map-canvas",jQuery("#post_mapTab")).data("map-canvas"),options=map_canvas?eval(map_canvas):{};jQuery("#"+map_canvas).goMap(options);var center=jQuery.goMap.map.getCenter();"osm"==window.gdMaps?(jQuery.goMap.map.invalidateSize(),jQuery.goMap.map._onResize(),jQuery.goMap.map.panTo(center)):(google.maps.event.trigger(jQuery.goMap.map,"resize"),jQuery.goMap.map.setCenter(center))},100),history.pushState&&window.location.hash&&0===jQuery("#publish_listing").length&&jQuery(window).width()<1060&&(jQuery("#gd-tabs .geodir-tab-head").toggle(),jQuery("html, body").animate({scrollTop:jQuery("#geodir-tab-mobile-menu").offset().top},500)),jQuery(window).trigger("resize")}}jQuery(".geodir-tabs-content").show(),tabNoRun=!1,jQuery("dl.geodir-tab-head").each(function(){jQuery(this).children("dd").click(function(e){"enable"==jQuery(this).find("a").attr("data-status")&&activateTab(jQuery(this))})}),window.location.hash&&activateTab(jQuery('a[data-tab="'+window.location.hash+'"]').parent()),jQuery(".gd-tabs .gd-tab-next").click(function(e){var t=jQuery("dl.geodir-tab-head").find("dd.geodir-tab-active").next();"enable"==t.find("a").attr("data-status")&&activateTab(t),jQuery("dl.geodir-tab-head").find("dd.geodir-tab-active").next().is("dd")||(jQuery(this).hide(),jQuery("#gd-add-listing-submit").show())}),jQuery("#gd-login-options input").change(function(){jQuery(".gd-login_submit").toggle()}),jQuery("ul.geodir-tabs-content").css({"z-index":"0",position:"relative"}),jQuery("dl.geodir-tab-head dd.geodir-tab-active").trigger("click"),jQuery("a[href*=\\#]").on("click",function(e){this.pathname===window.location.pathname&&(jQuery(this.hash+"Tab").length?activateTab(jQuery('a[data-tab="'+this.hash+'"]').parent()):"#respond"==this.hash&&jQuery("#reviewsTab").length&&activateTab(jQuery('a[data-tab="#reviews"]').parent()))})}),jQuery(document).ready(function(){function e(e,t){jQuery(e).animate({"margin-right":t+"px"},"fast")}jQuery("input[type=text]").keyup(function(){var e=jQuery(this);if("autofill"==e.attr("data-type")&&""!=e.attr("data-fill")){var t=e.attr("data-fill"),r=jQuery(this).val();jQuery.get(geodir_params.ajax_url,{autofill:t,fill_str:r},function(t){""!=t&&(0==e.closest("div.gd-autofill").length&&e.wrap('<div class="gd-autofill"></div>'),e.closest("div.gd-autofill").find(".gd-autofill-dl").remove(),e.after('<div class="gd-autofill-dl"></div>'),e.next(".gd-autofill-dl").html(t),e.focus())})}}),jQuery("input[type=text]").parent().mouseleave(function(){jQuery(this).find(".gd-autofill-dl").remove()}),jQuery(".gd-trigger").click(function(){jQuery(this).toggleClass("active").next().slideToggle("slow");var t=!!jQuery(this).toggleClass("active").next().hasClass("map_category");jQuery(".gd-trigger").hasClass("gd-triggeroff")?(jQuery(".gd-trigger").removeClass("gd-triggeroff"),jQuery(".gd-trigger").addClass("gd-triggeron"),t&&e(this,0)):(jQuery(".gd-trigger").removeClass("gd-triggeron"),jQuery(".gd-trigger").addClass("gd-triggeroff"),t&&e(this,parseFloat(jQuery(this).toggleClass("active").next().outerWidth())))}),jQuery(".gd-trigger").each(function(){jQuery(this).hasClass("gd-triggeroff")&&jQuery(this).next().hasClass("map_category")&&e(this,parseFloat(jQuery(this).next().outerWidth()))}),jQuery(".trigger_sticky").click(function(){var e=jQuery(this);jQuery("body").toggleClass("stickymap_hide"),e.hasClass("triggeroff_sticky")?(e.removeClass("triggeroff_sticky"),e.addClass("triggeron_sticky"),geodir_is_localstorage()&&localStorage.setItem("gd_sticky_map","shide")):(e.removeClass("triggeron_sticky"),e.addClass("triggeroff_sticky"),geodir_is_localstorage()&&localStorage.setItem("gd_sticky_map","sshow"))});void 0===geodir_params.gd_modal||parseInt(geodir_params.gd_modal);jQuery(".gd_comment_replaylink a").bind("click",function(){jQuery("#commentform #err_no_rating").remove(),jQuery("#commentform .gd_rating").hide(),jQuery("#commentform .br-wrapper.br-theme-fontawesome-stars").hide(),jQuery("#commentform #geodir_overallrating").val("0"),jQuery("#respond .form-submit input#submit").val(geodir_params.gd_cmt_btn_post_reply),jQuery("#respond .comment-form-comment label").html(geodir_params.gd_cmt_btn_reply_text)}),jQuery(".gd-cancel-replaylink a").bind("click",function(){jQuery("#commentform #err_no_rating").remove(),jQuery("#commentform .gd_rating").show(),jQuery("#commentform .br-wrapper.br-theme-fontawesome-stars").show(),jQuery("#commentform #geodir_overallrating").val("0"),jQuery("#respond .form-submit input#submit").val(geodir_params.gd_cmt_btn_post_review),jQuery("#respond .comment-form-comment label").html(geodir_params.gd_cmt_btn_review_text)}),jQuery("#commentform .gd-rating-input-wrap").each(function(){var e=this,t=jQuery(e).closest("#commentform");parseInt(t.find("#comment_parent").val())>0&&(jQuery("#commentform #err_no_rating").remove(),jQuery("#commentform .gd_rating").hide(),jQuery("#respond .form-submit input#submit").val(geodir_params.gd_cmt_btn_post_reply),jQuery("#respond .comment-form-comment label").html(geodir_params.gd_cmt_btn_reply_text)),geodir_params.multirating||t.find('input[name="submit"]').click(function(r){if(t.find("#err_no_rating").remove(),void 0!==geodir_params.gd_cmt_disable_rating&&geodir_params.gd_cmt_disable_rating)return!0;var i=parseInt(t.find("#comment_parent").val());if(i=0==i){var a=0;return t.find("input[name^=geodir_overallrating]").each(function(){!parseInt(jQuery(this).val())>0&&a++}),!(a>0)||(jQuery(e).after('<div id="err_no_rating" class="err-no-rating">'+geodir_params.gd_cmt_err_no_rating+"</div>"),!1)}})})}),jQuery(window).load(function(){0==jQuery(".map_background").length?jQuery(".geodir-pinpoint").hide():jQuery(".geodir-pinpoint").show()}),jQuery(window).load(function(){geodir_resize_rating_stars(),jQuery(document).on("click",".geodir-rating,.gd-star-rating",function(e){(reviewLink=jQuery(this).closest(".geodir-category-listing").find("a.geodir-pcomments").attr("href"))?window.location=reviewLink:(reviewLink=jQuery(this).closest(".gd-bubble").find("a.geodir-pcomments").attr("href"))&&(window.location=reviewLink)}),jQuery(".geodir-details-sidebar-rating").on("click",".geodir-rating,.gd-star-rating",function(e){jQuery('#gd-tabs [data-tab="#reviews"]').trigger("click"),jQuery("html, body").animate({scrollTop:jQuery("#reviews-wrap").offset().top},500)})}),jQuery(window).resize(function(){geodir_resize_rating_stars(!0)}),gdSearchDoing=0;var gdNearChanged=0;function geodir_search_wait(e){if(waitTime=300,e){if(gdSearchDoing)return;gdSearchDoing=1,jQuery(".geodir_submit_search").addClass("gd-wait-btnsearch").prop("disabled",!0),jQuery(".showFilters").prop("disabled",!0),searchPos=1,gd_search_icon=jQuery(".geodir_submit_search").html(),function e(){if(searchPos)return 1==searchPos?(jQuery('input[type="button"].geodir_submit_search').val("  "),searchPos=2,void window.setTimeout(e,waitTime)):2==searchPos?(jQuery('input[type="button"].geodir_submit_search').val("  "),searchPos=3,void window.setTimeout(e,waitTime)):3==searchPos?(jQuery('input[type="button"].geodir_submit_search').val("  "),searchPos=1,void window.setTimeout(e,waitTime)):void 0}(),jQuery("button.geodir_submit_search").html('<i class="fas fa-hourglass fa-spin" aria-hidden="true"></i>')}else searchPos=0,gdSearchDoing=0,jQuery(".geodir_submit_search").removeClass("gd-wait-btnsearch").prop("disabled",!1),jQuery(".showFilters").prop("disabled",!1),gdsText=jQuery('input[type="button"].geodir_submit_search').data("title"),jQuery('input[type="button"].geodir_submit_search').val(gdsText),jQuery("button.geodir_submit_search").html(gd_search_icon)}function geodir_click_search(e){setTimeout(function(){jQuery(e).parent().find(".geodir_submit_search").click()},100)}function gd_fav_save(e){var t;return t=jQuery(".favorite_property_"+e+" a").hasClass("geodir-removetofav-icon")?"remove":"add",jQuery.ajax({url:geodir_params.ajax_url,type:"GET",dataType:"json",data:{action:"geodir_user_add_fav",type_action:t,security:geodir_params.basic_nonce,pid:e},timeout:2e4,error:function(){alert(geodir_params.loading_listing_error_favorite)},success:function(r){r.success?"remove"==t?jQuery(".favorite_property_"+e+" a").removeClass("geodir-removetofav-icon").addClass("geodir-addtofav-icon").attr("title",geodir_params.text_add_fav).html('<i class="'+geodir_params.icon_fav+'"></i> <span class="geodir-fav-text"> '+geodir_params.text_fav+"</span>"):jQuery(".favorite_property_"+e+" a").removeClass("geodir-addtofav-icon").addClass("geodir-removetofav-icon").attr("title",geodir_params.text_remove_fav).html('<i class="'+geodir_params.icon_unfav+'"></i> <span class="geodir-fav-text"> '+geodir_params.text_unfav+"</span>"):alert(geodir_params.loading_listing_error_favorite)}}),!1}function geodir_refresh_business_hours(){jQuery(".gd-bh-show-field").each(function(){geodir_refresh_business_hour(jQuery(this))})}function geodir_refresh_business_hour(e){var t,r,i,a,n,o,s,d,u,g,l=!1,c=!1,_=[],p=[];t=new Date,utc=t.getTime()+6e4*t.getTimezoneOffset(),t=new Date(utc+1e3*parseInt(jQuery(".gd-bh-expand-range",e).data("offsetsec"))),date=t.getFullYear()+"-"+("0"+t.getMonth()).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+"T"+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2),jQuery(".gd-bh-expand-range",e).attr("data-date",date),i=t.getHours(),n=t.getMinutes(),(a=t.getDay())<1&&(a=7),o=("0"+i).slice(-2)+("0"+n).slice(-2),e.attr("data-t",o),(r=e.find('[data-day="'+parseInt(a)+'"]')).length&&(e.removeClass("gd-bh-open gd-bh-close"),e.find("div").removeClass("gd-bh-open gd-bh-close gd-bh-days-open gd-bh-days-close gd-bh-slot-open gd-bh-slot-close gd-bh-days-today"),r.addClass("gd-bh-days-today"),"1"!=r.data("closed")?r.find(".gd-bh-slot").each(function(){s=!1,d=jQuery(this).data("open"),u=jQuery(this).data("close"),"undefined"!=d&&"undefined"!=u&&""!==d&&""!==u&&parseInt(d)<=o&&o<=parseInt(u)&&(s=!0),s?(l=!0,jQuery(this).addClass("gd-bh-slot-open"),p.push(jQuery(this).find(".gd-bh-slot-r").html())):jQuery(this).addClass("gd-bh-slot-close"),_.push(jQuery(this).find(".gd-bh-slot-r").html())}):c=!0,l?(_=p,r.addClass("gd-bh-days-open")):r.addClass("gd-bh-days-close"),jQuery(".gd-bh-today-range",e).html(_.join(", "))),l?(g=geodir_params.txt_open_now,e.addClass("gd-bh-open")):(g=c?geodir_params.txt_closed_today:geodir_params.txt_closed_now,e.addClass("gd-bh-close")),jQuery(".geodir-i-biz-hours font",e).html(g)}function init_read_more(){var e,t,r;jQuery(".geodir-category-list-view  .geodir-post-meta-container .geodir-field-post_content").each(function(){jQuery(this).addClass("gd-read-more-wrap").wrapInner("<p></p>").append('<p class="gd-read-more-fade"><a href="#" class="gd-read-more-button">'+geodir_params.txt_read_more+"</a></p>")}),jQuery(".gd-read-more-wrap").each(function(){jQuery(this).height()>=parseInt(jQuery(this).css("max-height"),10)&&jQuery(this).find(".gd-read-more-fade").show()}),jQuery(".gd-read-more-wrap .gd-read-more-button").click(function(){return r=0,e=jQuery(this),$p=e.parent(),t=$p.parent(),t.find("p:not('.gd-read-more-fade')").each(function(){r+=jQuery(this).outerHeight()}),t.css({height:t.height(),"max-height":9999}).animate({height:r}),$p.fadeOut(),!1})}function gd_delete_post(e){var t=geodir_params.my_place_listing_del;return!!confirm(t)&&(jQuery.ajax({url:geodir_params.ajax_url,type:"POST",dataType:"json",data:{action:"geodir_user_delete_post",security:geodir_params.basic_nonce,post_id:e},timeout:2e4,success:function(t){t.success?(lity('<div class="gd-notification gd-success"><i class="fas fa-check-circle"></i> '+t.data.message+"</div>"),jQuery(".post-"+e+'[data-post-id="'+e+'"]').fadeOut(),t.data.redirect_to&&jQuery("body").hasClass("single")&&jQuery("body").hasClass("postid-"+e)&&setTimeout(function(){window.location=t.data.redirect_to},3e3)):lity('<div class="gd-notification gd-error"><i class="fas fa-exclamation-circle"></i> '+t.data.message+"</div>")}}),!0)}function gd_ajax_lightbox(e,t,r,i){if(e)return t&&""!=t||(t=geodir_params.basic_nonce),$content="<div class='geodir-ajax-content ''>Loading content</div>",$lightbox="","geodir_ninja_forms"==e&&(delete form,delete formDisplay,delete nfForms),void($lightbox=lity(geodir_params.ajax_url+"?action="+e+"&security="+t+"&p="+r+"&extra="+i))}function gd_init_comment_reply_link(){jQuery(".geodir-comments-area .comment-reply-link").click(function(e){setTimeout(function(){jQuery("#reply-title").contents().filter(function(){return 3==this.nodeType}).each(function(){this.textContent=this.textContent.replace(geodir_params.txt_leave_a_review,geodir_params.txt_leave_a_reply)}),$html=jQuery("#respond .comment-form-comment").html(),$new_html=$html.replace(geodir_params.txt_review_text,geodir_params.txt_reply_text),jQuery("#respond .comment-form-comment").html($new_html),$html=jQuery("#respond input.submit").val(),$new_html=$html.replace(geodir_params.txt_post_review,geodir_params.txt_post_reply),jQuery("#respond input.submit").val($new_html),jQuery("#respond .gd-rating-input-wrap").hide()},10)}),jQuery("#cancel-comment-reply-link").click(function(e){setTimeout(function(){jQuery("#reply-title").contents().filter(function(){return 3==this.nodeType}).each(function(){this.textContent=this.textContent.replace(geodir_params.txt_leave_a_reply,geodir_params.txt_leave_a_review)}),$html=jQuery("#respond .comment-form-comment").html(),$new_html=$html.replace(geodir_params.txt_reply_text,geodir_params.txt_review_text),jQuery("#respond .comment-form-comment").html($new_html),$html=jQuery("#respond input.submit").val(),$new_html=$html.replace(geodir_params.txt_post_reply,geodir_params.txt_post_review),jQuery("#respond input.submit").val($new_html),jQuery("#respond .gd-rating-input-wrap").show()},10)})}function geodir_ajax_load_slider(e){(real_srcset=jQuery(e).find("img").attr("data-srcset"))&&(jQuery(e).find("img").attr("srcset")||jQuery(e).find("img").attr("srcset",real_srcset)),(real_src=jQuery(e).find("img").attr("data-src"))&&(jQuery(e).find("img").attr("srcset")||jQuery(e).find("img").attr("src",real_src))}function geodir_init_slider(e){jQuery(".geodir-slides").addClass("flexslider-fix-rtl"),jQuery("#"+e+"_carousel").flexslider({animation:"slide",namespace:"geodir-",selector:".geodir-slides > li",controlNav:!1,directionNav:!1,animationLoop:!1,slideshow:!1,itemWidth:75,itemMargin:5,asNavFor:"#"+e,rtl:1==parseInt(geodir_params.is_rtl)}),jQuery("#"+e).flexslider({itemWidth:jQuery("#"+e).attr("data-limit_show")?210:"",itemMargin:jQuery("#"+e).attr("data-limit_show")?3:"",minItems:jQuery("#"+e).attr("data-limit_show")?1:"",maxItems:jQuery("#"+e).attr("data-limit_show")?jQuery("#"+e).attr("data-limit_show"):"",animation:"fade"==jQuery("#"+e).attr("data-animation")?"fade":"slide",selector:".geodir-slides > li",namespace:"geodir-",controlNav:parseInt(jQuery("#"+e).attr("data-controlnav")),directionNav:1,prevText:'<i class="fas fa-angle-right"></i>',nextText:'<i class="fas fa-angle-right"></i>',animationLoop:!0,slideshow:parseInt(jQuery("#"+e).attr("data-slideshow")),sync:"#"+e+"_carousel",start:function(t){jQuery(".geodir-slides").removeClass("flexslider-fix-rtl"),jQuery("#"+e).removeClass("geodir-slider-loading"),jQuery(".geodir_flex-loader").hide(),jQuery("#"+e).css({visibility:"visible"}),jQuery("#"+e+"_carousel").css({visibility:"visible"});for(var r=t.visible?t.visible:1,i=0;i<r;)slide=t.slides.eq(i),geodir_ajax_load_slider(slide),i++,slide_next=t.slides.eq(i),geodir_ajax_load_slider(slide_next)},before:function(e){console.log("slide"),console.log(e);var t=e.visible?e.visible:1;isNaN(t)&&(t=1);for(var r=e.animatingTo*t-1,i=r+t+1;r<i;)slide=e.slides.eq(r),geodir_ajax_load_slider(slide),r++,slide_next=e.slides.eq(r),geodir_ajax_load_slider(slide_next)},rtl:1==parseInt(geodir_params.is_rtl)})}function gd_init_rating_input(){jQuery(".gd-rating-input").each(function(){$total=jQuery(this).find(".gd-rating-foreground > i, .gd-rating-foreground > svg, .gd-rating-foreground > img").length,$parent=this,$value=jQuery(this).closest(".gd-rating-input").find("input").val(),$value>0&&(jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground").width($value/$total*100+"%"),jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text(jQuery(this).closest(".gd-rating-input").find("svg, img:eq("+($value-1)+"), i:eq("+($value-1)+")").attr("title"))),jQuery(this).find("i,svg, img").each(function(e){$original_rating=jQuery(this).closest(".gd-rating-input").find("input").val(),$total=jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground > i, .gd-rating-foreground > svg, .gd-rating-foreground > img").length,$original_percent=$original_rating/$total*100,$rating_set=!1,jQuery(this).hover(function(){$total=jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground > i, .gd-rating-foreground > svg, .gd-rating-foreground > img").length,$original_rating=jQuery(this).closest(".gd-rating-input").find("input").val(),$original_percent=$original_rating/$total*100,$original_rating_text=jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text(),$percent=0,$rating=e+1,$rating_text=jQuery(this).attr("title"),$rating>$total&&($rating-=$total),$percent=$rating/$total*100,jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground").width($percent+"%"),jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text($rating_text)},function(){$rating_set?$rating_set=!1:(jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground").width($original_percent+"%"),jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text($original_rating_text))}),jQuery(this).click(function(){$original_percent=$percent,$original_rating=$rating,jQuery(this).closest(".gd-rating-input").find("input").val($rating),jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text($rating_text),$rating_set=!0})})})}function geodir_animate_markers(){"function"==typeof animate_marker?jQuery("ul.geodir-category-list-view").children("li").hover(function(){animate_marker("listing_map_canvas",String(jQuery(this).data("post-id")))},function(){stop_marker_animation("listing_map_canvas",String(jQuery(this).data("post-id")))}):(window.animate_marker=function(){},window.stop_marker_animation=function(){})}function geodir_is_localstorage(){var e="geodirectory";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function geodir_cancelBubble(e){var t=e||window.event;t.stopPropagation&&t.stopPropagation(),null!=t.cancelBubble&&(t.cancelBubble=!0)}function gd_get_user_position(e,t){window.gd_user_position_success_callback=e,window.gd_user_position_fail_callback=t,navigator.geolocation?navigator.geolocation.getCurrentPosition(gd_user_position_success,gd_user_position_fail):gd_user_position_fail(-1)}function gd_user_position_success(e){var t=e.coords||e.coordinate||e;if(t&&t.latitude&&t.longitude){var r=window.gd_user_position_success_callback;"function"==typeof r&&r(t.latitude,t.longitude)}}function gd_user_position_fail(e){var t;switch(e.code){case e.UNKNOWN_ERROR:t=geodir_params.geoErrUNKNOWN_ERROR;break;case e.PERMISSION_DENINED:t=geodir_params.geoErrPERMISSION_DENINED;break;case e.POSITION_UNAVAILABLE:t=geodir_params.geoErrPOSITION_UNAVAILABLE;break;case e.BREAK:t=geodir_params.geoErrBREAK;break;default:t=geodir_params.geoErrDEFAULT}window.gd_user_position_success?$success=window.gd_user_position_success_callback:$success="",gd_manually_set_user_position(t,$success)}function gd_manually_set_user_position(e){if(window.confirm(geodir_params.confirm_lbl_error+" "+e+"\n"+geodir_params.confirm_set_location)){var t="geodir_manual_location_";jQuery.post(geodir_params.ajax_url,{action:"geodir_manual_map",trigger:t+"_trigger"},function(e){if(e)return $lity=lity("<div class='lity-show'>"+e+"</div>"),setTimeout(function(){jQuery(".lity-show .geodir_map_container").css("width","90%").css("width","99.99999%")},500),jQuery(window).off(t+"_trigger"),jQuery(window).on(t+"_trigger",function(e,t,r){if(t&&r){var i={};i.latitude=t,i.longitude=r;var a=window.gd_user_position_success_callback;"function"==typeof a&&a(t,r),$lity.close()}}),!1})}else if(window.gd_user_position_fail_callback){var r=window.gd_user_position_fail_callback;"function"==typeof r&&r()}}function gd_set_get_directions(e,t){jQuery("#gd_map_canvas_post_fromAddress").length&&(jQuery("#gd_map_canvas_post_fromAddress").val(e+","+t),jQuery(".gd-map-get-directions").trigger("click"))}function geodir_widget_listings_pagination(e,t){var r,i;r=jQuery("#"+e),jQuery(".geodir-loop-paging-container",r).each(function(){var e=jQuery(this);e.hasClass("geodir-paging-setup")||(jQuery(".page-numbers .page-numbers",e).length&&jQuery(".page-numbers a.page-numbers",e).each(function(){href=jQuery(this).attr("href"),hrefs=href.split("#"),page=hrefs.length>1&&parseInt(hrefs[1])>0?parseInt(hrefs[1]):parseInt(jQuery(this).text())>0?parseInt(jQuery(this).text()):1,jQuery(this).attr("data-geodir-pagenum",page),jQuery(this).attr("href","javascript:void(0)")}),e.addClass("geodir-paging-setup"))}),jQuery("a.page-numbers",r).on("click",function(e){!(i=parseInt(jQuery(this).data("geodir-pagenum")))>0||($widget=r.closest(".geodir-listings"),$listings=jQuery(".geodir-widget-posts",r),t.pageno=i,$widget.addClass("geodir-listings-loading"),jQuery.ajax({type:"POST",url:geodir_params.ajax_url,data:t,success:function(e){e.success&&e.data&&e.data.content&&($widget.find(".geodir_locations.geodir-wgt-pagination").replaceWith(e.data.content),init_read_more(),geodir_init_lazy_load(),geodir_refresh_business_hours()),$widget.removeClass("geodir-listings-loading")},fail:function(e){$widget.removeClass("geodir-listings-loading")}}),e.preventDefault())})}gd_search_icon="",function(e){e.fn.GDswitchClass=function(t,r){var i={"transition-property":"all","transition-duration":"0.6s","transition-timing-function":"ease-out"};return this.each(function(){e(this).css(i).removeClass(t).addClass(r)})}}(jQuery),jQuery(document).ready(function(){jQuery(".geodir-review-text-excerpt .comment-excerpt").click(function(e){e.preventDefault();var t=jQuery(this).parent().addClass("gd-hide");jQuery(t).parent().find(".geodir-review-text-content").removeClass("gd-hide")})});